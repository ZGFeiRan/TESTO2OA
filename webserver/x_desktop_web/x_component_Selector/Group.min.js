MWF.xDesktop.requireApp("Selector","Person",null,false);MWF.xApplication.Selector.Group=new Class({Extends:MWF.xApplication.Selector.Person,options:{style:"default",count:0,title:MWF.xApplication.Selector.LP.selectGroup,groups:[],roles:[],values:[],names:[]},_listItemByKey:function(i,t,e){if(this.options.units.length||this.options.units.roles)e={key:e,groupList:this.options.groupList,roleList:this.options.roleList};this.orgAction.listGroupByKey(function(t){if(i)i.apply(this,[t])}.bind(this),t,e)},_getItem:function(i,t,e,o){this.orgAction.getGroup(function(t){if(i)i.apply(this,[t])}.bind(this),t,typeOf(e)==="string"?e:e.distinguishedName,o)},_newItemSelected:function(t,i,e){return new MWF.xApplication.Selector.Group.ItemSelected(t,i,e)},_listItemByPinyin:function(i,t,e){if(this.options.units.length||this.options.units.roles)e={key:e,groupList:this.options.groupList,roleList:this.options.roleList};this.orgAction.listGroupByPinyin(function(t){if(i)i.apply(this,[t])}.bind(this),t,e)},_newItem:function(t,i,e){return new MWF.xApplication.Selector.Group.Item(t,i,e)},_listItemNext:function(t,i,e){this.orgAction.listGroupNext(t,i,function(t){if(e)e.apply(this,[t])}.bind(this))},_getChildrenItemIds:function(t){return t.groupList}});MWF.xApplication.Selector.Group.Item=new Class({Extends:MWF.xApplication.Selector.Person.Item,_getShowName:function(){return this.data.name},_setIcon:function(){this.iconNode.setStyle("background-image","url("+"/x_component_Selector/$Selector/default/icon/groupicon.png)")}});MWF.xApplication.Selector.Group.ItemSelected=new Class({Extends:MWF.xApplication.Selector.Person.ItemSelected,_getShowName:function(){return this.data.name},_setIcon:function(){this.iconNode.setStyle("background-image","url("+"/x_component_Selector/$Selector/default/icon/groupicon.png)")}});MWF.xApplication.Selector.Group.Filter=new Class({Implements:[Options,Events],options:{style:"default",groups:[],roles:[]},initialize:function(t,i){this.setOptions(i);this.value=t;this.orgAction=MWF.Actions.get("x_organization_assemble_control")},filter:function(t,i){this.value=t;var e=this.value;if(this.options.groups.length||this.options.roles.length)e={key:e,groupList:this.options.groupList,roleList:this.options.roleList};this.orgAction.listGroupByKey(function(t){data=t.data;if(i)i(data)}.bind(this),null,e)}});