MWF.xApplication.process.FormDesigner.Module=MWF.xApplication.process.FormDesigner.Module||{};MWF.xDesktop.requireApp("process.FormDesigner","Module.$Element",null,false);MWF.xApplication.process.FormDesigner.Module.Combox=MWF.FCCombox=new Class({Extends:MWF.FC$Element,Implements:[Options,Events],options:{style:"default",propertyPath:"/x_component_process_FormDesigner/Module/Combox/combox.html"},initialize:function(e,t){this.setOptions(t);this.path="/x_component_process_FormDesigner/Module/Combox/";this.cssPath="/x_component_process_FormDesigner/Module/Combox/"+this.options.style+"/css.wcss";this._loadCss();this.moduleType="element";this.moduleName="combox";this.form=e;this.container=null;this.containerNode=null},_createMoveNode:function(){this.moveNode=new Element("div",{MWFType:"combox",styles:this.css.moduleNodeMove,id:this.json.id,events:{selectstart:function(){return false}}}).inject(this.form.container);var e=new Element("div",{styles:this.css.selectIcon}).inject(this.moveNode);var t=new Element("div",{styles:this.css.moduleText,text:this.json.id}).inject(this.moveNode)},_loadNodeStyles:function(){var e=this.node.getFirst("div");var t=this.node.getLast("div");e.setStyles(this.css.selectIcon);t.setStyles(this.css.moduleText)},_getCopyNode:function(){if(!this.copyNode)this._createCopyNode();this.copyNode.setStyle("display","inline-block");return this.copyNode},clearTemplateStyles:function(e){if(e){if(e.styles)this.removeStyles(e.styles,"styles");if(e.inputStyles)this.removeStyles(e.inputStyles,"inputStyles");if(e.properties)this.removeStyles(e.properties,"properties")}},setTemplateStyles:function(e){if(e.styles)this.copyStyles(e.styles,"styles");if(e.inputStyles)this.copyStyles(e.inputStyles,"inputStyles");if(e.properties)this.copyStyles(e.properties,"properties")},setPropertiesOrStyles:function(e){if(e=="styles"){if(this.parentContainer){if(this.parentContainer.moduleName=="datagrid$Data"){if(!this.json.styles.width)this.json.styles.width="90%"}}try{this.setCustomStyles()}catch(e){}}if(e=="inputStyles"){var i=this.node.getLast("div");i.clearStyles();i.setStyles(this.css.moduleText);Object.each(this.json.inputStyles,function(e,t){var s=/^border\w*/gi;if(!t.test(s)){i.setStyle(t,e)}}.bind(this))}if(e=="properties"){this.node.setProperties(this.json.properties)}},_setEditStyle_custom:function(e){if(e=="id"){this.node.getLast().set("text",this.json.id)}},setPropertiesOrStyles:function(e){if(e=="styles"){if(this.parentContainer){if(this.parentContainer.moduleName=="datagrid$Data"){if(!this.json.styles.width)this.json.styles.width="90%"}}try{this.setCustomStyles()}catch(e){}}if(e=="inputStyles"){var i=this.node.getLast("div");i.clearStyles();i.setStyles(this.css.moduleText);Object.each(this.json.inputStyles,function(e,t){var s=/^border\w*/gi;if(!t.test(s)){i.setStyle(t,e)}}.bind(this))}if(e=="properties"){this.node.setProperties(this.json.properties)}}});